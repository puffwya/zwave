#ifndef MAP_H
#define MAP_H

#include <cstdlib>
#include <algorithm>

class Map {
public:
    static const int SIZE = 20;
    static const int CHUNK_SIZE = 10;

    // 0 == open space, 1 == wall, 2 == enemy spawn
    int data[SIZE][SIZE] = {

    {1,1,1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1,1,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,2,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},

    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,1},
    {1,1,1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1,1,1}
    };
    

    // chunkID: 0..3 for 2x2 grid; clamps inputs
    inline int getChunkID(int x, int y) const {
        // clamp coords to valid range
        x = std::max(0, std::min(x, SIZE - 1));
        y = std::max(0, std::min(y, SIZE - 1));
        int chunkX = x / CHUNK_SIZE; // 0..1
        int chunkY = y / CHUNK_SIZE; // 0..1
        return chunkY * 2 + chunkX;
    }

};

#endif

